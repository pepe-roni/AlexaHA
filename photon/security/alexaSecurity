int pirState = LOW;    
int detected = 0;
int pirVal = 0;                    
int pirState = LOW;    
int detected = 0;
int pirVal = 0;                    
 
int doorStatus = 0;
  int timing = 0;
 
void setup() {
  pinMode(0, INPUT);
  Particle.variable("pir", detected);
  Particle.variable("doorStatus", doorStatus);
}
 
void loop()
{
//pir sensor
  pirVal = digitalRead(0);  
  if (pirVal == HIGH) 
  {         
    if (pirState == LOW) 
    {
      detected = 1; 
      pirState = HIGH;
    }
  } 
  else 
  {
    if (pirState == HIGH)
    {
        detected = 0;
      pirState = LOW;
    }
  }
// door
  //doorStatus = analogRead(1);
  // when the door is closed, sensor returns low value, open returns insanely high values

  if(analogRead(1) > 5)
  {
      doorStatus = 1;
      if(timing > 20000)
      {
          doorStatus = 2;
      }
      timing++;
  }
  else 
  {
    doorStatus = 0; 
    timing = 0;
  }
}